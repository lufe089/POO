# Introducción a C++ y Configuración del Entorno

## ¿Qué es C++?

C++ es un lenguaje de programación de alto rendimiento y orientado a objetos, utilizado en el desarrollo de software de sistemas, juegos, aplicaciones de escritorio y más. Es una evolución de C, con la adición de características orientadas a objetos. Empresas como Microsoft, Google y Adobe utilizan C++ para desarrollar productos como Windows, Chrome y Photoshop. También es ampliamente utilizado en el desarrollo de motores de videojuegos como Unreal Engine y en sistemas de alto rendimiento como los utilizados en la industria financiera. C++ fue creado por Bjarne Stroustrup en 1983 en los laboratorios Bell con el objetivo de extender el lenguaje C con características de programación orientada a objetos. Aprender C++ es una excelente forma de entender la programación orientada a objetos debido a su flexibilidad y control sobre los recursos del sistema. Entre sus ventajas, C++ permite un alto rendimiento, es ampliamente utilizado en la industria del software y proporciona un conocimiento sólido sobre cómo funcionan los lenguajes de programación a nivel bajo y alto.

## Organización del código en C++: Múltiples archivos

En C++, se recomienda separar la declaración y la implementación de las clases en archivos distintos:

- **Archivo de encabezado (.h)**: Contiene la definición de la clase.
- **Archivo de implementación (.cpp)**: Contiene la implementación de los métodos.
- **Archivo principal (main.cpp)**: Contiene la función `main()` donde inicia la ejecución del programa.

Ejemplo:

**Archivo Persona.h**

// Definición de la clase Persona.
// Este archivo solo contiene la declaración de la clase y sus métodos.

```cpp
#ifndef PERSONA_H
#define PERSONA_H

#include <string>

class Persona {
// La clase Persona tiene dos atributos privados: nombre y edad.
// También tiene un constructor y un método público para mostrar la información.
private:
    // Atributos privados de la clase Persona.
    std::string nombre;
    int edad;
public:
    // Constructor de la clase Persona.
    Persona(std::string nombre, int edad);
        // Método para mostrar la información de la persona.
};

#endif
```

**Archivo Persona.cpp**

```cpp
#include "Persona.h"
#include <iostream>

Persona::Persona(std::string nombre, int edad) : nombre(nombre), edad(edad) {}

void Persona::mostrarInformacion() {
    std::cout << "Nombre: " << nombre << ", Edad: " << edad << std::endl;
}
```

**Archivo main.cpp**

```cpp
#include "Persona.h"

int main() {
    Persona p1("Juan", 20);
    Persona p2("Maria", 25);
    Persona p3("Carlos", 30);
    
    p1.mostrarInformacion();
    p2.mostrarInformacion();
    p3.mostrarInformacion();
    
    return 0;
}
```

### ¿Qué es un lenguaje compilado?

Un **lenguaje compilado** es aquel en el que el código fuente (los archivos que escribimos con nuestra lógica) se **traduce completamente** a código máquina antes de ser ejecutado.

- **Traducción a código máquina**: Significa que el programa queda en un formato que la computadora entiende directamente (un archivo ejecutable).
- **Ejemplos**: C, C++, Rust, Go.
- En C++, escribimos archivos `.cpp` y `.h`, luego usamos un programa llamado **compilador** (por ejemplo, `g++` en Linux/Mac o MinGW en Windows) que genera un **ejecutable** (por ejemplo, `miPrograma.exe` o `./miPrograma`).

> **Compilador**: Es un programa que lee tu código fuente, lo analiza y lo transforma en un archivo binario listo para ejecutarse.

El hecho de que esté "compilado" significa que una vez creado ese ejecutable, podemos ejecutarlo sin necesidad de un intérprete en el sistema final, siempre y cuando tengamos el sistema operativo adecuado y las librerías requeridas.

---

### Comparación con un lenguaje interpretado

Los **lenguajes interpretados** (como Python, JavaScript o PHP) no producen típicamente un solo ejecutable autónomo, sino que **requieren** de un **intérprete** o **máquina virtual** para poder funcionar.

- **Intérprete**: Programa que lee el código "línea a línea" o "instrucción a instrucción" y lo va ejecutando al momento.
- **Máquina virtual**: Software que simula un entorno de ejecución, muy común en lenguajes como Java.

**Ventajas de los interpretados**:
- Mayor **flexibilidad** y **rapidez de prototipado**.
- Suelen ser más sencillos de depurar en tiempo real porque no requieren recompilar.

**Desventajas**:
- Al ejecutarse línea a línea, pueden ser más **lentos** que un compilado, dependiendo del tipo de tarea.
- El usuario necesita el intérprete (o la máquina virtual) instalado.

---

### Ventajas de un lenguaje compilado

1. **Mayor velocidad de ejecución**: Al no interpretarse en tiempo real, el tiempo de ejecución suele ser menor.
2. **Optimizaciones del compilador**: El compilador puede analizar y optimizar el código en diferentes fases (por ejemplo, reordenar instrucciones para que sean más eficientes).
3. **Distribución sencilla**: Puedes entregar el archivo ejecutable, y el usuario final no necesita tener un intérprete.

> **Ejecutable**: Archivo final que tu sistema operativo puede correr directamente, como `miPrograma.exe` en Windows o `./miPrograma` en Linux.

---

### Por qué puede ser más rápido un lenguaje compilado

1. **Sin capa de interpretación**: Al no traducir instrucción por instrucción en tiempo de ejecución, se **ahorra** ese procesamiento adicional.
2. **Compilador**: Realiza **optimizaciones** a nivel de hardware, como usar mejor los registros de la CPU, "desenrollar bucles" (loop unrolling) o "insertar" llamadas de funciones simples (inlining), todo lo cual acelera la ejecución.

---
### Tipado Fuerte y Diferencias con Python

Cuando decimos que un lenguaje es **fuertemente tipado**, nos referimos a que:

- Cada variable tiene un **tipo** (por ejemplo, `int`, `float`, `string`) y el compilador **exige** coherencia al usarlas.
- No se puede convertir una variable a otro tipo incompatible sin que el compilador reclame o requiera una conversión explícita.

> **Tipo**: Define qué clase de datos se almacenan en la variable (por ejemplo, números enteros, texto, etc.) y qué operaciones se pueden realizar sobre ese valor.

**En C++**:

- Si declaras `int x = 10;`, no podrás asignarle directamente un `double*` o un `std::string` sin que ocurra un **error de compilación**.
- La mayoría de los errores de tipo se detectan antes de ejecutar el programa, haciendo que los errores aparezcan temprano en el proceso.

**En Python**:

- Python también es **fuertemente tipado** (cada objeto en Python tiene un tipo), pero es **dinámicamente tipado** (no necesitas declarar el tipo antes de usarlo).
- Python hace muchas conversiones internamente y asocia los tipos a los **objetos**, no a las **variables**.
- Muchos errores de tipo se detectan en **tiempo de ejecución** (es decir, cuando ya se está corriendo el programa).

**¿Beneficio de C++?**

- El compilador **detecta** errores de tipo y problemas de sintaxis antes de ejecutar el programa, haciéndolo más **robusto** y predecible.

#### Diferencias Claves entre Python y C++

| Característica           | Python                         | C++                                        |
| ------------------------ | ------------------------------ | ------------------------------------------ |
| **Tipado**               | Dinámico (no tipado)           | Estático (fuertemente tipado)              |
| **Definición de clases** | class sin tipos                | class con tipos especificados              |
| **Instanciación**        | `obj = Clase()`                | `Clase obj;` o `Clase* obj = new Clase();` |
| **Memoria**              | Automática (Garbage Collector) | Manual (uso de `new` y `delete`)           |s librerías necesarias, para formar el **ejecutable** final. Si faltan definiciones de funciones u otros símbolos, surgirá un **error de enlazado**.

---

#- **Directivas de preprocesador**: Le indican al compilador (o más específicamente, al preprocesador) que realice tareas específicas **antes** de compilar el código principal. Por ejemplo:
  - `#include <iostream>`: Copia el contenido del archivo de cabecera (en este caso, de la librería de entrada y salida estándar) en tu código.
  - `#define MAX 100`: Define una constante o macro llamada `MAX` con el valor 100, que luego será sustituido en el código.

Durante el **preprocesado**, se **expanden** estas directivas. Para el caso de `#include`, se copia todo el contenido del archivo incluido dentro de tu archivo final, antes de pasar a la etapa de compilación.

#### Compilación

En la **compilación**, el compilador traduce el código fuente (ya preprocesado) de cada archivo `.cpp` a un archivo objeto (`.o` en Linux/macOS o `.obj` en Windows). En esta etapa se revisa la sintaxis, los tipos de datos, la corrección del código, etc.

#### Enlazado (Linking)

En el **enlazado**, los distintos archivos objeto se unen entre sí, junto con las librerías necesarias, para formar el **ejecutable** final. Si faltan definiciones de funciones u otros símbolos, surgirá un **error de enlazado**.

---

**Ejemplo de compilación**: Si tenemos un solo archivo `main.cpp`, podemos compilar y ejecutar en Linux/Mac:

```bash
g++ main.cpp -o miPrograma
./miPrograma
```

En Windows (con g++ de MinGW):

```bash
g++ main.cpp -o miPrograma.exe
miPrograma.exe
```

---

### ¿Qué se necesita para que un programa en C++ funcione?

1. **Compilador**: Necesitas contar con un compilador C++ instalado en tu sistema, por ejemplo `g++` o `clang++`. Este se encarga de traducir el código fuente en un ejecutable.
2. **Bibliotecas estándar**: C++ provee librerías como `<iostream>` (para imprimir en consola), `<vector>`, `<string>`, etc. Estas librerías normalmente vienen con el compilador.
3. **Sistema operativo**: El programa compilado deberá ser compatible con el sistema operativo para el cual fue compilado (Windows, Linux, macOS, etc.).
4. **Ambiente de ejecución**: Para programas de consola, solo necesitas el ejecutable y las bibliotecas asociadas (normalmente incluidas en la instalación de C++). Para interfaces gráficas u otras librerías, debes asegurarte de que estén instaladas.

---

## Configuraciones previas para trabajar con C++

Antes de empezar a programar en C++, es necesario configurar el entorno de desarrollo en tu sistema operativo.

### Instalación de un compilador

Un compilador es necesario para traducir el código fuente de C++ a un programa ejecutable. Utilizaremos MinGW en Windows y `g++` en Linux/macOS.

#### Windows (MinGW)

1. Descarga MinGW desde [https://www.mingw-w64.org/](https://www.mingw-w64.org/).
2. Instala MinGW y agrega `C:\mingw-w64\bin` al `PATH` del sistema.
3. Verifica la instalación ejecutando:
   ```sh
   g++ --version
   ```

#### Linux

1. Abre la terminal e instala `g++` ejecutando:
   ```sh
   sudo apt update && sudo apt install g++
   ```
2. Verifica la instalación:
   ```sh
   g++ --version
   ```

#### macOS

1. Instala Xcode Command Line Tools con:
   ```sh
   xcode-select --install
   ```
2. Verifica la instalación:
   ```sh
   g++ --version
   ```

### Partes típicas de un proyecto orientado a objetos en C++

En un proyecto de C++ de tamaño mediano o grande, es común tener:

1. **Archivos de encabezado (`.h` o `.hpp`)**: Contienen las **declaraciones** de clases, funciones y constantes. Normalmente incluyen:
   - `#ifndef`, `#define`, `#endif` (las llamadas guardas de inclusión) para evitar que se incluya el archivo varias veces.

Ejemplo de una guarda en un archivo de encabezado:

```cpp
#ifndef MI_CLASE_H
#define MI_CLASE_H

class MiClase {
private:
    int atributo;
public:
    MiClase(int valor);
    int getAtributo();
};

#endif // MI_CLASE_H
```

En este ejemplo:
- `#ifndef MI_CLASE_H` verifica si `MI_CLASE_H` no ha sido definido antes.
- `#define MI_CLASE_H` lo define para que el archivo solo se procese una vez.
- `#endif` marca el final de la inclusión condicional.
   - `#include` de otras librerías o encabezados necesarios.
   - Definiciones de las clases (atributos y métodos) pero sin la implementación completa de las funciones.

2. **Archivos fuente (********`.cpp`********\*\*\*\*)**: Contienen las **implementaciones** de las clases y funciones declaradas en los archivos `.h`:

   - `#include "MiClase.h"` para poder implementar esas clases.
   - El cuerpo de cada método, usando el **operador de resolución de ámbito** (`::`) para indicar que pertenece a la clase declarada en el `.h`.

3. **Archivo principal (********`main.cpp`********\*\*\*\*)**: Es el **punto de entrada** del programa. Allí implementas la función `int main()` que, al ejecutarse, inicia tu aplicación.

4. **Fichero de construcción (CMakeLists.txt, Makefile, etc.)** (opcional pero muy recomendado para proyectos más grandes): Indica al compilador cómo compilar y enlazar los distintos archivos, qué librerías incluir, etc. Por ejemplo, en proyectos con CMake, se define este archivo para especificar rutas, nombres de ejecutable, etc.

5. **Carpetas organizadas** (opcional, pero útil):

   - `include/` para archivos de encabezado.
   - `src/` para archivos fuente.
   - `build/` para colocar los archivos objeto y ejecutables.

---

### CLion: IDE recomendado para C++

Un **IDE (Integrated Development Environment)** es un programa que integra diversas herramientas de desarrollo en una sola aplicación. Para C++, uno de los entornos más populares y potentes es **CLion**, desarrollado por JetBrains. A continuación, algunas de sus funcionalidades importantes y por qué usar un IDE puede resultar muy beneficioso:

1. **Edición con resaltado de sintaxis**: CLion reconoce la estructura de tu código C++, colorea y formatea automáticamente los elementos (palabras clave, variables, métodos, etc.). Esto facilita la lectura y ayuda a prevenir errores.
2. **Autocompletado inteligente (Code Completion)**: Mientras escribes, CLion sugiere nombres de variables, funciones, clases y métodos existentes en tu proyecto. Esto acelera la velocidad de programación y reduce errores de tipeo.
3. **Depuración (Debugging)**: Con CLion puedes poner puntos de interrupción (breakpoints), inspeccionar variables en tiempo real, ejecutar tu código paso a paso y revisar el flujo para encontrar errores lógicos.
4. **Integración con CMake**: CMake es una herramienta de configuración y compilación multiplataforma. CLion se integra perfectamente con CMake, permitiéndote gestionar proyectos grandes sin complicaciones.
5. **Gestión de proyectos y archivos**: CLion te facilita organizar tus carpetas, archivos fuente, librerías y dependencias en un solo lugar. Esto es útil para mantener una estructura clara en proyectos de tamaño mediano o grande.
6. **Control de versiones**: CLion ofrece integración con sistemas como Git o SVN. Puedes hacer commits, push, pull, ver el historial de cambios, etc., directamente desde el IDE.
7. **Refactorización**: Herramientas que permiten cambiar el nombre de variables, extraer funciones, reestructurar clases, todo de manera automática y segura. El IDE se encarga de aplicar los cambios en todos los lugares donde se use ese código.
8. **Productividad y mantenimiento**: Al unificar la edición de código, la compilación, la depuración y la gestión de versiones, CLion ayuda a que el flujo de trabajo sea más ágil y mantenible.


### Instalación de CLion

Para aprender más sobre cómo utilizar CLion, puedes consultar la documentación oficial en [https://www.jetbrains.com/help/clion/](https://www.jetbrains.com/help/clion/).

1. Descarga CLion desde [https://www.jetbrains.com/clion/](https://www.jetbrains.com/clion/).
2. Instálalo siguiendo las instrucciones para tu sistema operativo.
3. Para obtener una licencia de estudiante gratuita, regístrate en [https://www.jetbrains.com/community/education/](https://www.jetbrains.com/community/education/).

### CLion: Un IDE para C++

> **¿Por qué es importante usar un IDE como CLion?**
>
> - **Ahorra tiempo**: automatiza tareas comunes, como la compilación y la generación de archivos.
> - **Ayuda a encontrar errores**: el resaltado de sintaxis y el debugging integrado facilitan la detección de fallos.
> - **Favorece el aprendizaje**: ver los avisos de error inmediatamente, contar con autocompletado y ver ejemplos de uso refuerza la comprensión del lenguaje.
> - **Entorno unificado**: todo en un solo lugar: editor, compilador, debugger, control de versiones, etc.

## ¿Qué es CMake y por qué es importante?

### ¿Qué es la compilación y por qué es necesaria en C++?

La compilación es el proceso mediante el cual el código fuente escrito en un lenguaje de alto nivel como C++ se traduce a un código ejecutable por la computadora. En C++, el código debe compilarse antes de poder ejecutarse, ya que el lenguaje no es interpretado como Python. Este proceso permite optimizar el rendimiento y asegurar la eficiencia del programa.

CMake es una herramienta de configuración y construcción de proyectos en C++. Permite compilar proyectos con múltiples archivos fuente y bibliotecas.

### Instalación de CMake

#### Windows

Descarga el instalador desde [https://cmake.org/download/](https://cmake.org/download/) y agrégalo al `PATH`.

#### Linux/macOS

Instala CMake con:

```sh
sudo apt install cmake  # Linux
brew install cmake      # macOS
```


## Compilación y ejecución de un programa en C++

### Desde la línea de comandos

Para compilar un programa con múltiples archivos, usa el siguiente comando:

```sh
g++ main.cpp Persona.cpp -o programa
```

Ejecuta el programa con:

```sh
./programa  # Linux/macOS
programa.exe  # Windows
```

### Desde CLion

Para compilar y ejecutar un programa en CLion, sigue estos pasos utilizando el código de la clase `Persona` como ejemplo:

1. **Abrir CLion y cargar el proyecto:**

   - Crea un nuevo proyecto en CLion seleccionando la opción 'New Project'.
   - Asegúrate de que el proyecto tenga un entorno de compilación configurado con CMake.
   - Agrega los archivos `Persona.h`, `Persona.cpp` y `main.cpp` al directorio del proyecto.
   - Verifica que CLion haya detectado correctamente el compilador y CMake.

2. **Configurar CMake:**

Cada línea en `CMakeLists.txt` tiene un propósito específico:

1. `cmake_minimum_required(VERSION 3.10)`: Define la versión mínima de CMake requerida. Si un estudiante tiene una versión más antigua instalada, podría necesitar actualizar CMake.
2. `project(MiProyecto)`: Establece el nombre del proyecto. Puede cambiarse a cualquier otro nombre según las preferencias del estudiante.
3. `set(CMAKE_CXX_STANDARD 17)`: Especifica que se usará C++17. Si un estudiante desea usar otra versión, como C++20, puede modificar este valor.
4. `add_executable(programa main.cpp Persona.cpp)`: Indica que se creará un ejecutable llamado `programa` a partir de `main.cpp` y `Persona.cpp`. Si el estudiante tiene más archivos fuente, debe agregarlos aquí.

Revisa que los nombres de los archivos coincidan con los de tu proyecto y que su versión de CMake sea compatible con las configuraciones establecidas.

- Abre `CMakeLists.txt` y asegúrate de que contenga:
  ```cmake
  cmake_minimum_required(VERSION 3.10)
  project(MiProyecto)
  set(CMAKE_CXX_STANDARD 17)
  add_executable(programa main.cpp Persona.cpp)
  ```
- Guarda los cambios y permite que CLion actualice la configuración.

3. **Seleccionar la configuración de ejecución:**

   - En la parte superior derecha, selecciona `programa` como la configuración de ejecución.

4. **Compilar el programa:**

   - Haz clic en `Build` o presiona `Ctrl + F9` para compilar el proyecto.
   - CLion mostrará en la consola mensajes de compilación exitosa o errores a corregir.

5. **Ejecutar el programa:**

   - Haz clic en `Run` o presiona `Shift + F10`.
   - La salida esperada en la consola será:
     ```
     Nombre: Juan, Edad: 20
     Nombre: Maria, Edad: 25
     Nombre: Carlos, Edad: 30
     ```


## Actividad en casa

Como actividad en casa, revisa las secciones de la 1 a la 21 del libro *Modern C++ for Absolute Beginners: A Friendly Introduction to the C++ Programming Language and C++11 to C++23 Standards*. Este libro está disponible para estudiantes de la Pontificia Universidad Javeriana de Cali en la biblioteca de O'Reilly en el siguiente enlace: [https://learning.oreilly.com/library/view/modern-c-for/9781484292747/](https://learning.oreilly.com/library/view/modern-c-for/9781484292747/).



